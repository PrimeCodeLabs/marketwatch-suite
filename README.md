# MarketWatch Suite

## Introduction

The **MarketWatch Suite** is a microservices-based application designed to demonstrate and explore the capabilities of gRPC for interservice communication. This project includes three main services:

- **Stock Data Service**: Manages and provides stock market data.
- **Alert Processing Service**: Processes alerts based on specific stock market conditions.
- **Notification Service**: Sends notifications to users based on the alerts generated by the Alert Processing Service.

The architecture leverages gRPC for efficient, robust, and type-safe communication between the services.

## Project Structure

The project is structured into several directories, each serving a specific purpose:

- **`/services`**: Contains the individual service applications, including their source code and Dockerfiles.
- **`/proto`**: Houses the Protocol Buffers definitions used by gRPC to define the structure of the data and the format of the service APIs.
- **`/docker`**: Includes Dockerfiles for building containerized versions of each service.

### Services

Each service in the `/services` directory has its own sub-directory:

- **`stock-data-service`**
- **`alert-processing-service`**
- **`notification-service`**

### Proto Definitions

Shared Protocol Buffers definitions are located in the `/proto` directory. These files define the gRPC service APIs and message formats.

### Docker Configuration

The `/docker`` directory contains Dockerfiles for each service, supporting containerization and simplifying deployment and testing.

## Setup and Installation

To set up the project, follow these steps:

1. Clone the repository:
   ```bash
   git clone https://github.com/PrimeCodeLabs/marketwatch-suite
   ```
2. Navigate to the project directory:

   ```bash
   cd marketwatch-suite
   ```

3. Build the Docker containers for each service (ensure Docker is installed):

   ```bash
   docker build -t stock-data-service -f ./docker/Dockerfile-stock .
   docker build -t alert-processing-service -f ./docker/Dockerfile-alert .
   docker build -t notification-service -f ./docker/Dockerfile-notification .
   ```

4. Run the services:
   ```bash
   docker run -d --name stock-data-service -p 50051:50051 stock-data-service
   docker run -d --name alert-processing-service -p 50052:50052 alert-processing-service
   docker run -d --name notification-service -p 50053:50053 notification-service
   ```

### Monitoring and Metrics

To enable monitoring and metrics, follow these steps:

1. Ensure Prometheus and Grafana are installed and running. You can use Docker to run them:

   ```bash
   docker run -d --name prometheus -p 9090:9090 -v $(pwd)/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus
   docker run -d --name grafana -p 3000:3000 grafana/grafana
   ```

2. Configure Prometheus to scrape metrics from the services by updating the `prometheus.yml` configuration file:

   ```yaml
   global:
     scrape_interval: 15s

   scrape_configs:
     - job_name: 'stock-data-service'
       static_configs:
         - targets: ['host.docker.internal:8080']

     - job_name: 'alert-processing-service'
       static_configs:
         - targets: ['host.docker.internal:8081']

     - job_name: 'notification-service'
       static_configs:
         - targets: ['host.docker.internal:8082']
   ```

3. Restart Prometheus to apply the new configuration:

   ```bash
   docker restart prometheus
   ```

4. Access Grafana at `http://localhost:3000` and add Prometheus as a data source. Use `http://host.docker.internal:9090` as the Prometheus URL.

5. Create dashboards and visualizations in Grafana to monitor the metrics collected from your services.

### Learning Objectives

The primary goal of this project is to learn about gRPC and its applications in microservices architectures. Key learning points include:

- Understanding how gRPC uses HTTP/2 features for improved performance.
- Implementing and using Protocol Buffers for data serialization.
- Configuring and running gRPC servers and clients in a microservices setup.
- Exploring gRPC's streaming capabilities for real-time data processing.

### Contributions

Contributions to the project are welcome, especially from those looking to enhance their understanding of gRPC and microservices architectures.

### License

This project is open-sourced under the MIT license.
